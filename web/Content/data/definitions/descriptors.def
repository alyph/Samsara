
@base Descriptor
@namespace desc

living:
{
	displayName: "Living"

	attributes: @map
	{
		#attr.vitality: 10
	}

	triggers:
	[
		.Trigger_OnStart
		{
			effects:
			[
				.Effect_MutateAttribute
				{
					attribute: #attr.health
					operation: .TokenOperation
					{
						type: TokenOpType.max
					}
				}
			]
		}

		.Trigger_OnEvent
		{
			eventType: GameEvent_AttributeMutated
			condition: .Func.And
			{
				conditions:
				[
					.Func.Compare
					{
						op: CompareOp.equal
						a: VarRef("attribute")
						b: #attr.health
					}

					.Func.Compare
					{
						op: CompareOp.lessEqual
						a: VarRef("newValue")
						b: 0
					}
				]
			}

			effects:
			[
				.Effect_Destroy {}
			]
		}
	]
}

hostile:
{
	displayName: "Hostile"
}